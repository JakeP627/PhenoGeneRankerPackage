---
title: "PhenoGeneRanker"
author: "Cagatay Dursun, Jake Petrie,  Serdar Bozdag"
date: "5/15/2020"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{PhenoGeneRanker}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(PhenoGeneRankerPackage)
```
# Table of Contents
  * [Introduction](#Introduction)
  * [Using the Methods](#Using-the-Methods)
    *[CreateWalkMatrix](#CreateWalkMatrix)
    *[RandomWalkRestarts](#RandomWalkRestarts)
  * [Example Workflow](#Example-Workflow)
  * [Summary](#Summary)
  * [Acknowledgements](#Acknowledgements)
  
## <a id = "Introduction"></a> Introduction

PhenoGeneRanker is a gene/disease prioritization tool that utilizes heterogeneous gene disease network. PhenoGeneRanker allows multi-layer gene and disease networks. It also calculates empirical p-values of gene ranking using random stratified sampling of genes based on their connectivity degree in the network.


## <a id = "Using-the-Methods"></a> Using the Methods

* CreateWalkMatrix
* RandomWalkRestarts

# Load PhenoGeneRanker

Loading the package will make it usable and check to make sure that all of the nessecary packages are also installed. 

```{r}
library(PhenoGeneRankerPackage)
```

## <a id = "CreateWalkMatrix"></a> CreateWalkMatrix

This method Generates a Walk matrix from Gene and Phenotype data. All it needs to take in as a parameter is an input file. It has to be a '.txt' file. This text file is made from two columns that are tab-separated. the first row needs the two columns to say type and file_name. Every row after that contains what kind of data each file would contain. These can be either gene, phenotype, or bipartite files. Under file_name, you will input the name of the file along with the .txt extension. Inside each file_name file, there is a from, to, and weight column which are all tab-separated. For gene and phenotype layer files, the “from” and “to” columns will have genes and phenotypes, the order doesn’t matter. The “weight” column will have the weight of the relationship of the genes and phenotypes, for unweighted network all weights must have a value of 1. For a bipartite file, the from column must have genes, the “to” column must have phenotypes, the meaning and usage of weight is similar to the gene and phenotype layers.

The rest of the parameters are optional, leave them blank if you would like to use their default values. The parameter numCores is the number of cores used for parallel processing, it defaults to 1. It is recommended to use detectCores() for this parameter. The parameter delta is the probability of jumping between gene layers. It has a range of 0 to 1. It has a default value of 0.5. The parameter zeta is the probability of jumping between gene layers. It has a range of 0 to 1. It has a default value of 0.5. The parameter lambda is the Inter-Network Jump Probability. It has a range of 0 to 1. It has a default value of 0.5. 

The returned list is what will be used in the RandomWalkRestarts() method.

```{r}
#walkMatrix <-CreateWalkMatrix('file.txt')
```

## <a id = "RandomWalkRestarts"></a> RandomWalkRestarts

This method runs the random walk with restarts on the provided walkmatrix transition matrix of multiplex heterogeneous networks. When random walk converges to steady state then the random walk stops. If the parameter generatePvalue is FALSE, it returns a dataframe including gene and phenotype names, ranks and steady state scores of the genes and phenotypes. If generatePvalue is TRUE then it generates p-values along with the ranks with respect to offset value of 100.

```{r}
#RandomWalkRestarts(walkMatrix, c('gene1', 'gene2'), c(), TRUE)
```

## <a id = "Example-Workflow"></a> Example Workflow


## <a id = "Summary"></a> Summary


## <a id = "Acknowledgements"></a> Acknowledgements

